<tal:block define="ds options/datastructure;
                   context nocall:options/context_obj|here;
                   context_url context/absolute_url;
                   action ds/action">
  <tal:block condition="python: action == 'translate'">
    <form action="" method="get"
     tal:define="langItems context/getTranslateLangItems"
     tal:condition="langItems"
     tal:attributes="action string:${context_url}/cpsportlet_translate">
      <select onchange="submit()" name="lang">
        <option i18n:translate="cpsportlets_translate_into" disabled="disabled"
         value="" selected="selected">Translate into ...</option>
        <option tal:repeat="item langItems" i18n:translate=""
         tal:content="item/title"
         tal:attributes="value item/lang" />
      </select>
    </form>
  </tal:block>
  <tal:block condition="python: action == 'delete_translation'">
    <form action="" method="get"
     tal:define="langItems context/getDeletableLangItems"
     tal:condition="langItems"
     tal:attributes="action string:${context_url}/cpsportlet_delete_translation">
      <select onchange="submit()" name="lang">
        <option i18n:translate="cpsportlets_delete_translation" disabled="disabled"
         value="" selected="selected">Delete translation ...</option>
        <option tal:repeat="item langItems" i18n:translate=""
         tal:content="item/title"
         tal:attributes="value item/lang" />
      </select>
    </form>
  </tal:block>
  <tal:block condition="python: action == 'switch_language'">
    <form action="" method="get"
     tal:define="langItems context/getSwitchableLangItems"
     tal:condition="langItems"
     tal:attributes="action string:${context_url}/cpsportlet_switch_language">
      <select onchange="submit()" name="lang">
        <option i18n:translate="cpsportlets_switch_language" disabled="disabled"
         value="" selected="selected">Switch to ...</option>
        <option tal:repeat="item langItems" i18n:translate=""
         tal:content="item/title"
         tal:attributes="value item/lang" />
      </select>
    </form>
  </tal:block>
  <tal:block condition="python: action == 'change'">
    <form method="get" action=""
     tal:define="langItems context/getChangeLangItems"
     tal:condition="langItems"
     tal:attributes="action string:${context_url}/cpsportlet_change_language">
      <select onchange="submit()" name="lang">
        <option i18n:translate="cpsportlets_change_language" disabled="disabled"
         value="" selected="selected">Change language</option>
        <option tal:repeat="item langItems" i18n:translate=""
         tal:content="item/title"
         tal:attributes="value item/lang" />
      </select>
    </form>
  </tal:block>
</tal:block>
