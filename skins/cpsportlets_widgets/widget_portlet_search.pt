<form tal:define="utool nocall:here/portal_url;
                  urls here/getSearchFormUrls;
                  search_script_url urls/script;
                  search_form_url urls/form"
 method="get" action=""
 tal:attributes="action search_script_url"
 onsubmit="return checkEmptySearch(this)">
  <input id="searchGadget" type="text" name="SearchableText" size="20"
    value="" tal:attributes="value request/SearchableText|nothing" />
  <input class="context searchButton" type="submit" value="button_search"
    i18n:attributes="value" /><br />
  <a href="" tal:condition="here/advanced_search_link" 
  i18n:translate="cpsportlets_advanced_search"
  tal:attributes="href search_form_url">Advanced search</a>
</form>
