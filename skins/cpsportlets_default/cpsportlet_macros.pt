<!-- RSS 1.0 export -->
<metal:block define-macro="export_rss_1_0">
  <tal:block define="url string:${request/URL}?export=${export}"
   content="structure python: here.cpsportlet_export_rss_1_0(box=ds, items=items, url=url, request=request)" />
</metal:block>

<!-- RSS 2.0 export -->
<metal:block define-macro="export_rss_2_0">
TODO: RSS 2.0 export
</metal:block>

<!-- ATOM export -->
<metal:block define-macro="export_atom">
TODO: ATOM export
</metal:block>

<!-- Not implemented or unknown export format-->
<metal:block define-macro="export_not_implemented">
  <strong tal:content="export" />:
  <span i18n:translate="">this export format has not been implemented yet</span>.
</metal:block>

<!-- Display export buttons -->
<metal:block define-macro="xml_exports"
  tal:define="formats ds/syndication_formats;
              portlet nocall:options/portlet|nothing"
  tal:condition="python: formats and portlet">
  <div class="xmlExportButtons"
  tal:define="vtool here/portal_vocabularies;
              voc vtool/cpsportlets_syndication_formats_voc">
    <a
     tal:repeat="format formats"
     tal:attributes="href string:${portlet/absolute_url}?export=${format};
                     title format"
     tal:content="python: voc[format]" />
  </div>
  <div style="clear:right"></div>
</metal:block>
